Here is the very simple C implementation of the "algorithm" that should run under x85/ARM and at the same time can be synthesized to RTL (IP Core) using Vivado Vitis HLS.
